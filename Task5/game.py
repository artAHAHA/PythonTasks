import random

class Game:
    def __init__(self):
        self.colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00']  # ???????, ???????, ?????, ??????
        self.reset()

    def reset(self):
        self.circles = []
        for _ in range(4):  # ??????? 4 ????????
            circle = self.colors.copy()
            random.shuffle(circle)
            self.circles.append(circle)
        self._is_win = False  # ????????? ???? ??? ???????? ????????? ??????

    @property
    def is_win(self):
        return self._is_win

    @is_win.setter
    def is_win(self, value):
        self._is_win = value

    def rotate(self, index):
        if 0 <= index < len(self.circles):
            circle = self.circles[index]
            self.circles[index] = [circle[-1]] + circle[:-1]
            self.check_win()

    def check_win(self):
        self.is_win = all(len(set(circle)) == 1 for circle in self.circles)  # ?????????, ??? ??? ???????? ?????????
